(this["webpackJsonpweb-sockets-chat"]=this["webpackJsonpweb-sockets-chat"]||[]).push([[0],{40:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(34),r=n.n(c),i=(n(40),n(19)),o=n(7),u=n(35),l=(n(72),n(0));var m,j=function(e){return Object(l.jsx)("header",{className:"App-header",children:Object(l.jsx)("h1",{children:e.title})})};function b(e){return Object(l.jsx)("main",{children:Object(l.jsx)("div",{children:e.children})})}function h(e){return Object(l.jsx)("div",{className:e.type,children:Object(l.jsx)(e.elem,{children:e.message})})}function d(e){var t=e.form;return Object(l.jsxs)("form",{onSubmit:e.onFormSubmit,className:t.class,method:"POST",children:[Object(l.jsx)("input",{type:"text",name:"name",autoComplete:"off",className:t.input.class,placeholder:t.input.placeholder,"aria-label":t.input.ariaLabel,value:e.inputValue,onChange:function(t){return e.onInputChange(t)}}),Object(l.jsx)("button",{type:"submit",className:"button",children:t.buttonText})]})}function O(e){return e.isVisible?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"welcome-area",children:Object(l.jsx)(d,{form:{input:{placeholder:"Please enter your name...",ariaLabel:"Enter a name to be used in the chat room",class:"welcome-area-form-input"},buttonText:"Send",class:"welcome-area-form"},inputValue:e.name,onInputChange:function(t){e.onNameChange(t)},onFormSubmit:function(t){e.onNameSubmit(t)}})}),e.hasAnyConnectionError?Object(l.jsx)(h,{type:"error",elem:"p",message:e.notification.message}):null]}):null}function f(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t&&t.current&&(t.current.scrollIntoView(!0),document.querySelector(".chat-area .chat-area-box").scrollTop+=10)})),Object(l.jsxs)("div",{className:e.type,children:[Object(l.jsx)("div",{className:"sender",children:e.sender}),Object(l.jsx)("div",{className:"message",children:Object(l.jsx)("span",{ref:t,children:e.message})})]})}function g(e){return e.messages.length>0?Object(l.jsx)("div",{className:"message-list",children:e.messages.map((function(e,t){return Object(l.jsx)(f,{type:e.type,sender:e.name,message:e.message},e.id||t)}))}):null}function p(e){return e.isVisible?Object(l.jsxs)("div",{className:"chat-area",children:[Object(l.jsx)("div",{className:"chat-area-box",children:Object(l.jsx)(g,{messages:e.chat})}),Object(l.jsx)("div",{className:"chat-area-form-wrapper",children:Object(l.jsx)(d,{form:{input:{placeholder:"Write a message ...",ariaLabel:"Enter message to send",class:"chat-area-form-input"},buttonText:"Send",class:"chat-area-form"},inputValue:e.messageOut,onInputChange:function(t){e.onMessageChange(t)},onFormSubmit:function(t){e.onMessageSend(t)}})})]}):null}!function(e){e.TITLE="Silviu's Chat Application",e.WELCOME="Welcome, "}(m||(m={}));var x=Object(u.io)("/",{transports:["polling"]});var v=function(){var e=Object(a.useState)(m.TITLE),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(o.a)(c,2),u=r[0],h=r[1],d=Object(a.useState)(""),f=Object(o.a)(d,2),g=f[0],v=f[1],S=Object(a.useState)(""),N=Object(o.a)(S,2),y=N[0],C=N[1],E=Object(a.useState)([]),T=Object(o.a)(E,2),w=T[0],L=T[1],F=Object(a.useState)({message:"",type:"message"}),I=Object(o.a)(F,2),V=I[0],M=I[1],A=Object(a.useState)(!1),k=Object(o.a)(A,2),P=k[0],W=k[1];Object(a.useEffect)((function(){x.on("message",(function(e){var t=e.message,n=e.sender;L((function(e){return[].concat(Object(i.a)(e),[{id:e.length+1,name:n,message:t,type:"message-in"}])}))}))}),[]);var D=function(){var e={id:w.length+1,name:g,message:y,type:"message-out"};x.emit("send message",e),L([].concat(Object(i.a)(w),[e])),C("")};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{title:n}),Object(l.jsxs)(b,{children:[Object(l.jsx)(O,{isVisible:!u,name:g,onNameSubmit:function(e){e&&e.preventDefault(),u||(x.emit("join room",{name:g}),x.on("connection success",(function(e){h(!0),s(m.WELCOME+g),M({message:e,type:"message"}),W(!1)})),x.on("connection error",(function(e){h(!1),M({message:e,type:"error"}),W(!0)})))},onNameChange:function(e){v(e.target.value||"")},hasAnyConnectionError:P,notification:V}),Object(l.jsx)(p,{isVisible:u,chat:w,messageOut:y,onMessageChange:function(e){C(e.target.value||"")},onMessageSend:function(e){e&&e.preventDefault(),u&&D()}})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),S()}},[[74,1,2]]]);
//# sourceMappingURL=main.9282d494.chunk.js.map